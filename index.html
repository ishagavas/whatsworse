<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>what's worse</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #333;
      transition: background 1s ease;
      background: linear-gradient(135deg, #f7d9e3, #d8eefe);
    }

    h1 {
      font-size: 1rem;
      font-weight: 400;
      opacity: 0.6;
      margin-bottom: 0.2rem;
    }

    .tagline {
      font-size: 0.9rem;
      opacity: 0.5;
      margin-bottom: 2rem;
    }

    #pulse-circle {
      width: 16px;
      height: 16px;
      background: #fff;
      border-radius: 50%;
      margin-bottom: 2rem;
      animation: pulse 4s ease-in-out infinite;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.6; }
      50% { transform: scale(1.6); opacity: 1; }
    }

    #question {
      font-size: 1.75rem;
      max-width: 700px;
      margin: 0 2rem 2rem;
      line-height: 1.4;
      transition: opacity 0.3s ease;
    }

    .fade {
      opacity: 0;
    }

    .buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 1rem;
    }

    button {
      background-color: #ffffffcc;
      border: none;
      border-radius: 30px;
      padding: 0.8rem 1.4rem;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: background 0.3s ease;
    }

    button:hover {
      background-color: #ffffffee;
    }

    .link {
      font-size: 0.85rem;
      opacity: 0.5;
      margin-top: 1.5rem;
      text-decoration: none;
      transition: opacity 0.3s;
    }

    .link:hover {
      opacity: 0.8;
    }

    .mood-bar {
      margin-top: 2rem;
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
      font-size: 0.85rem;
      opacity: 0.95;
    }

    .mood-bar button {
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      font-size: 0.85rem;
      color: #333;
      border: none;
      cursor: pointer;
    }

    .mood-bar button:nth-child(2) { background-color: #A8DADC; }  /* calm - mint */
    .mood-bar button:nth-child(3) { background-color: #FFD6BA; }  /* anxious - peach */
    .mood-bar button:nth-child(4) { background-color: #D6CCFF; }  /* numb - lavender */
    .mood-bar button:nth-child(5) { background-color: #C3FBD8; }  /* hopeful - mint green */
    .mood-bar button:nth-child(6) { background-color: #FAD2E1; }  /* tired - blush pink */

    #moodResponse {
      margin-top: 1rem;
      font-size: 0.9rem;
      font-style: italic;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <h1>what's worse</h1>
  <div class="tagline">silly questions for a silly boy</div>
  <div id="pulse-circle"></div>

  <div id="question">Are your shoulders relaxed?</div>

  <div class="buttons">
    <button onclick="getRandomQuestion()">Ask Me Another</button>
    <button onclick="saveFavorite()">I like this one</button>
    <button onclick="logHard()">This oneâ€™s hard</button>
  </div>

  <a class="link" href="my-anchors.html">visit my anchors â†’</a><br/>
  <a class="link" href="thehardthings.html">visit the hard things â†’</a>

  <div class="mood-bar">
    how are you feeling?
    <button onclick="logMood('calm')">calm</button>
    <button onclick="logMood('anxious')">anxious</button>
    <button onclick="logMood('numb')">numb</button>
    <button onclick="logMood('hopeful')">hopeful</button>
    <button onclick="logMood('tired')">tired</button>
  </div>

  <div id="moodResponse"></div>

  <audio id="ambience" src="https://cdn.pixabay.com/audio/2022/03/15/audio_0333285b69.mp3" loop></audio>

  <script>
    const questions = [
      "are your shoulders relaxed?",
      "can you push your feet into the ground?",
      "take the deepest breath you can and see how long you can hold it",
      "try to see if you can breath with just one nostril",
      "can you imagine breathing with your ears?",
      "can you breathe a shape?",
      "can you scream a shape?",
      "what would make the biggest scene (that doesnâ€™t involve you ðŸ’”)"
    ];

    const colors = [
      "#f7d9e3, #d8eefe",
      "#e6f7ff, #fbe0ea",
      "#f0e4ff, #d6f0ec",
      "#f9f0d8, #e0f1ff",
      "#fde2e2, #cceeff",
      "#fff0f5, #e0ffff"
    ];

    let lastColorIndex = 0;
    let isPlaying = false;
    const audio = document.getElementById('ambience');

    function getRandomQuestion() {
      const el = document.getElementById('question');
      el.classList.add('fade');

      setTimeout(() => {
        const random = questions[Math.floor(Math.random() * questions.length)];
        el.textContent = random;
        el.classList.remove('fade');
      }, 300);

      let nextColor = (lastColorIndex + 1) % colors.length;
      document.body.style.background = `linear-gradient(135deg, ${colors[nextColor]})`;
      lastColorIndex = nextColor;

      if (!isPlaying) {
        audio.play().catch(e => console.log("autoplay blocked:", e));
        isPlaying = true;
      }
    }

    function saveFavorite() {
      const question = document.getElementById('question').textContent;
      const saved = JSON.parse(localStorage.getItem('liked-questions')) || [];
      if (!saved.includes(question)) {
        saved.push(question);
        localStorage.setItem('liked-questions', JSON.stringify(saved));
        alert(`Saved: "${question}"`);
      } else {
        alert("Already saved.");
      }
    }

    function logHard() {
      const question = document.getElementById('question').textContent;
      const hard = JSON.parse(localStorage.getItem('hard-questions')) || [];
      if (!hard.includes(question)) {
        hard.push(question);
        localStorage.setItem('hard-questions', JSON.stringify(hard));
        alert("Marked this one as hard.");
      } else {
        alert("Already marked.");
      }
    }

    function logMood(mood) {
      const responses = {
        calm: "deep like a lake. we love that.",
        anxious: "you are safe now.",
        numb: "sometimes nothing is still something.",
        hopeful: "a little light goes a long way.",
        tired: "you did enough. rest is brave."
      };
      document.getElementById("moodResponse").textContent = responses[mood] || "";
    }
  </script>
</body>
</html>
